<template lang="pug">
  q-pull-to-refresh(:handler='refresher')
    div(v-if="refresh")
      q-card.namecard(flat='')
        q-card-main
          q-icon(name='room')
            | ÂÆùÂ±±
      //- <q-gallery-carousel :src="slider"></q-gallery-carousel>
      q-card.namecard
        q-card-main
          q-item
            q-item-side
              q-spinner-hearts(color='red', :size='30')
            q-item-main
              q-item-tile(label='') {{$store.state.user.name}}Ôºå{{welcome}}
      simple-calendar
      // q-card.no-margin
        q-card-title.text-center.full-width.no-margin(flat style="padding-bottom:0;")
          q-icon(name="card_giftcard")
          | Âú£ËØûÂø´‰πê&ÂÖÉÊó¶Âø´‰πê
        index-merry-christmas 
        q-btn.full-width(@click="$router.push('/2018')")
          | ÂÜô‰∏ã‰Ω†ÁöÑÊñ∞Âπ¥ÊÑøÊúõ
      course-time(v-if="$store.state.time.day<=5")
      empty-room(v-if="$store.state.time.updated&&$store.state.time.day<=5")
      course-card
      sport-card(v-if="$store.state.user.cardID!==''")
      //- navigator-card
      //- sport-card(v-if="$store.state.user.cardID!=='' && parseInt($store.state.user.cardID)>=16120000")
      school-bus
      map-card
      random-choice
      //- quote-card
      q-card(flat='')
        q-card-main(style='text-align:center;')
          //- img(src="https://forthebadge.com/images/badges/built-with-love.svg")
          //- br
          small(style='color:grey;') 2018 SHU OpenSourceCommnuity

</template>

<script>
import SportCard from '@/IndexSportCard'
import Weather from '@/IndexWeather'
import CourseTime from '@/IndexCourseTime'
import SimpleCalendar from '@/IndexSimpleCalendar'
import QuoteCard from '@/IndexQuote'
import EmptyRoom from '@/IndexEmptyRoom'
import LeftPanel from '@/LayoutLeftPanel'
import IndexMerryChristmas from '@/IndexMerryChristmas'
import SchoolBus from '@/IndexSchoolBus'
import MapCard from '@/IndexMapCard'
import CourseCard from '@/IndexCourseCard'
import RandomChoice from '@/IndexRandomChoice'
import NavigatorCard from '@/IndexNavigator'
import { QSpinnerHearts } from 'quasar'
// q-gallery-carousel
export default {
  components: {
    Weather,
    CourseTime,
    CourseCard,
    SimpleCalendar,
    QuoteCard,
    EmptyRoom,
    LeftPanel,
    SportCard,
    SchoolBus,
    RandomChoice,
    IndexMerryChristmas,
    NavigatorCard,
    MapCard,
    QSpinnerHearts
  },
  data() {
    return {
      refresh: true
    }
  },
  computed: {
    welcome: function() {
      let d = new Date()
      let str = ''
      let hours = d.getHours()
      let day = d.getDay()
      if (hours <= 2) {
        str = '‰∏çÁù°ËßâÂú®Âπ≤Âòõ'
      } else if (hours <= 5) {
        str = 'üò∞‰Ω†ÁúüÁöÑ‰∏çÁù°ËßâÂêó'
      } else if (hours <= 8) {
        str = 'Êó©‰∏äÂ•ΩÔºåÁúãÁúã‰ªäÂ§©ÁöÑËØæÁ®ãÂêß'
      } else if (hours <= 11) {
        str = '‰∏äÂçàÂ•Ω~'
      } else if (hours <= 13) {
        str = '‰∏≠ÂçàÂ•ΩÔºåÁù°ÂçàËßâÂêó'
      } else if (hours <= 18) {
        str = '‰∏ãÂçàÂ•Ω'
      } else if (hours <= 22) {
        str = 'Êôö‰∏äÂ•ΩÔºåÊó©ÁÇπ‰ºëÊÅØ'
      } else if (hours <= 24) {
        str = 'Â§úÊ∑±‰∫ÜÔºåÊó©ÁÇπÁù°Âêß'
      }
      if (day === 0 || day === 6) {
        str = '‰ªäÂ§©Â•ΩÂÉèÊîæÂÅáÊù•ÁùÄ'
      }
      return str
    }
  },
  methods: {
    refresher(done) {
      this.refresh = false
      this.$nextTick(() => {
        this.refresh = true
      })
      done()
    }
  }
}
</script>

<style lang="stylus" scoped>
.namecard
  transform translateZ(0)
  opacity 0.9
  // background #EDE574 /* fallback for old browsers */
  // background -webkit-linear-gradient(to left, #E1F5C4, #EDE574) /* Chrome 10-25, Safari 5.1-6 */
  // background linear-gradient(to left, #E1F5C4, #EDE574) /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
</style>
